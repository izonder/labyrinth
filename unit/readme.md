//todo: cover code with tests